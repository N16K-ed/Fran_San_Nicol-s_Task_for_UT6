<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles_form.css">
    <title>Personalizer</title>
</head>
<body>
    <div class="navi_bar">
        <nav>
            <ul>
                <li><button><a href="./Personalizer.html">Personalizer</a></button></li>
                <li><button><a href="./Form.html">Form</a></button></li>
                <li><button><a href="./Images.html">Images</a></button></li>
                <li><button id="mode">Mode</button></li>
            </ul>
        </nav>        
    </div>

    <div class="container">
        <div class="form">
            <form action="./Personalizer.html" id="form">
                <label for="name">Full Name:</label><br><br>
                <input type="text" name="name" id="name" placeholder="Enter your full name"><br><br>

                <label for="email">Email:</label><br><br>
                <input type="email" placeholder="Enter your email" id="email">
                <input type="button" id="valid" value="Validate" onclick="validateEmail()">
                <br>               
                <br>
                <p id="emailValidation"></p>
                
                <label for="Gender">Gender:</label><br><br>
                <input type="radio" id="male" name="Gender" value="Male">
                <label for="male">Male</label>

                <input type="radio" id="female" name="Gender" value="Female">
                <label for="female">Female</label>

                <input type="radio" id="other" name="Gender" value="Other">
                <label for="other">Other</label>
                <br><br>

                <label for="Country">Country:</label><br><br>
                <select name="SelectYourCountry" id="select">
                    <option value="select" disabled selected>Select your country</option>
                    <option value="Spain">Spain</option>
                    <option value="England">England</option>
                    <option value="Germany">Germany</option>
                </select>
                <br><br>

                
                <div id="provinceContainer"></div>

                <br><br>
                <input type="submit" name="Send" id="send" value="Send">
            </form>
        </div>
    </div>

    <script>
        document.getElementById("select").addEventListener("change", function() {
            var country = this.value;
            var container = document.getElementById("provinceContainer");
            container.innerHTML = ""; 
    
            if (country === "Spain" || country === "England" || country === "Germany") {
                var label = document.createElement("label");
                label.setAttribute("for", "province");
                label.textContent = "Province:"; 
    
                var select = document.createElement("select");
                select.setAttribute("id", "province");
                select.setAttribute("name", "province");
    
                var provinces = {
                    Spain: [
                        "Álava", "Albacete", "Alicante", "Almería", "Asturias", "Ávila", 
                        "Badajoz", "Barcelona", "Burgos", "Cáceres", "Cádiz", "Cantabria", "Castellón", 
                        "Ceuta", "Ciudad Real", "Córdoba", "Cuenca", "Girona", "Granada", "Guadalajara", 
                        "Guipúzcoa", "Huelva", "Huesca", "Illes Balears", "Jaén", "La Coruña", "La Rioja", 
                        "Las Palmas", "León", "Lleida", "Lugo", "Madrid", "Málaga", "Melilla", "Murcia", 
                        "Navarra", "Ourense", "Palencia", "Pontevedra", "Salamanca", "Santa Cruz de Tenerife", 
                        "Segovia", "Sevilla", "Soria", "Tarragona", "Teruel", "Toledo", "Valencia", 
                        "Valladolid", "Vizcaya", "Zamora", "Zaragoza"
                    ],
                    England: [
                        "Bedfordshire", "Berkshire", "Bristol", "Buckinghamshire", "Cambridgeshire", 
                        "Cheshire", "Cornwall", "Cumbria", "Derbyshire", "Devon", "Dorset", 
                        "Durham", "East Riding of Yorkshire", "East Sussex", "Essex", "Gloucestershire", 
                        "Greater London", "Greater Manchester", "Hampshire", "Herefordshire", 
                        "Hertfordshire", "Isle of Wight", "Kent", "Lancashire", "Leicestershire", 
                        "Lincolnshire", "Merseyside", "Norfolk", "North Yorkshire", "Northamptonshire", 
                        "Northumberland", "Nottinghamshire", "Oxfordshire", "Rutland", "Shropshire", 
                        "Somerset", "South Yorkshire", "Staffordshire", "Suffolk", "Surrey", "Tyne and Wear", 
                        "Warwickshire", "West Midlands", "West Sussex", "West Yorkshire", "Wiltshire", 
                        "Worcestershire"
                    ],
                    Germany: [
                        "Baden-Württemberg", "Bavaria", "Berlin", "Brandenburg", "Bremen", 
                        "Hamburg", "Hesse", "Lower Saxony", "Mecklenburg-Western Pomerania", 
                        "North Rhine-Westphalia", "Rhineland-Palatinate", "Saarland", 
                        "Saxony", "Saxony-Anhalt", "Schleswig-Holstein", "Thuringia"
                    ]
                };
        
                var defaultOption = document.createElement("option");
                defaultOption.value = "";
                defaultOption.textContent = "Select a province";
                defaultOption.disabled = true;
                defaultOption.selected = true;
                select.appendChild(defaultOption);    
               
                provinces[country].forEach(function(province) {
                    var option = document.createElement("option");
                    option.value = province;
                    option.textContent = province;
                    select.appendChild(option);
                });
    
                container.appendChild(label);
                container.appendChild(document.createElement("br"));
                container.appendChild(select);
            }
        });
        function validateEmail() {
            const emailField = document.getElementById("email");
            const emailMessage = document.getElementById("emailValidation");
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (emailPattern.test(emailField.value)) {
                emailMessage.style.color = "green";
                emailMessage.textContent = emailField.value + " is valid :)";
            } else {
                emailMessage.style.color = "red";
                emailMessage.textContent = emailField.value + " is not correct, please retry :(";
            }
        }
    </script>
    
</body>
</html>
